import Link from "next/link"
import { Pre, Code } from "nextra/components"
import Footer from "@/components/Footer"
import { RichTabs } from "@/components/RichTabs"
import { LogosMarquee } from "@/components/LogosMarquee"
import { Blur } from "@/components/Blur"
import { Guides } from "@/components/Guides"
import SvelteKit from "../public/img/etc/sveltekit.svg"
import Express from "../public/img/etc/express.svg"
import Next from "../public/img/etc/nextjs.svg"
import Qwik from "../public/img/etc/qwik.svg"
import { CaretRight } from "@/icons"
import ProvidersMarquee from "@/components/ProvidersMarquee"

{/* Testimonials section */}
import { VercelIcon } from "@/components/Icons/VercelIcon"
import { ChatGPTIcon } from "@/components/Icons/ChatGPTIcon"
import { CalIcon } from "@/components/Icons/CalIcon"
import { T3Icon } from "@/components/Icons/T3Icon"
import { ArtlistIcon } from "@/components/Icons/Artlist"
import { DubIcon } from "@/components/Icons/DubIcon"

import TestimonialCard from "@/components/TestimonialCard"

<div className="relative overflow-hidden w-full h-full flex flex-col">
  <section className="flex w-full flex-col items-center self-center gap-12 px-8 pb-24 py-12 lg:pb-40 lg:pt-24 xl:px-0 dark:bg-black/50">
  {/* Top Column: Headline and CTAs */}
  <div className="container flex flex-col items-center justify-start gap-10">
    <div className="flex w-full flex-col items-center justify-center gap-6">
      <h1 className="text-center text-5xl font-black tracking-tight lg:text-7xl">
        Auth. Free. Open Source.
      </h1>
      <div className="text-center text-xl max-w-3xl font-medium text-neutral-700 dark:text-neutral-300">
        Own your user data. Connect to your own database with a simple adapter, any from 100+ providers, and avoid vendor lock-in forever.
      </div>
    </div>
    <div className="flex flex-col lg:flex-row w-full max-w-xs items-center justify-center gap-4 text-lg">
      <Link
        href="/getting-started"
        className="w-full lg:min-w-48 rounded-lg bg-violet-600 p-4 text-center font-semibold text-white transition duration-300 hover:bg-violet-700 dark:bg-violet-800 dark:hover:bg-violet-900"
      >
        Get Started
      </Link>
      <Link
        href="https://github.com/nextauthjs/next-auth"
        target="_blank"
        className="flex w-full lg:min-w-48 items-center justify-center gap-2 rounded-lg p-4 font-semibold text-black dark:text-white transition duration-300 bg-[#FFF4] dark:bg-[#FFFFFF03] border border-neutral-200 dark:border-neutral-800 backdrop-blur-sm"
      >
        <svg
          fill="none"
          viewBox="0 0 24 24"
          strokeWidth={1.5}
          stroke="currentColor"
          className="size-5"
        >
          <path
            strokeLinecap="round"
            strokeLinejoin="round"
            d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"
          />
        </svg>
        Source
      </Link>
    </div>
  </div>

{/* Bottom Column: Interactive Code Block */}

  <div className="w-full max-w-3xl rounded-lg bg-[#FFF4] p-2 backdrop-blur-sm dark:bg-[#FFFFFF03] border border-neutral-200 dark:border-neutral-800">
  <RichTabs
    orientation="horizontal"
    tabKey="hero"
    defaultValue="nextjs"
    className="!m-0 flex flex-col !py-0"
  >
    <RichTabs.List className="justify-between p-2">
      <div className="flex items-center gap-2">
        {[
          { value: "express", src: Express, name: "Express", darkInvert: true },
          { value: "nextjs", src: Next, name: "Next.js", darkInvert: true },
          { value: "qwik", src: Qwik, name: "Qwik", darkInvert: false },
          { value: "sveltekit", src: SvelteKit, name: "SvelteKit", darkInvert: false },
        ].map((trigger) => (
          <RichTabs.Trigger
            key={trigger.value}
            title={trigger.name}
            value={trigger.value}
            orientation="vertical"
            className="!h-10 !w-10 !flex-row !items-center !justify-center !gap-2 !border-0 rounded-lg p-2 font-medium text-neutral-600 outline-none transition-all duration-300 hover:bg-black/5 aria-selected:!bg-violet-600 aria-selected:!text-white dark:text-neutral-400 hover:dark:bg-white/5 aria-selected:dark:!bg-violet-800"
          >
            <img
              width="24"
              src={trigger.src}
              alt={`${trigger.name} Logo`}
              className={trigger.darkInvert ? "dark:invert" : ""}
            />
          </RichTabs.Trigger>
        ))}
        <Link
          href="/getting-started/integrations"
          className="flex h-10 items-center gap-2 rounded-lg p-2 px-3 text-sm font-medium text-neutral-600 transition-colors duration-300 hover:bg-black/5 dark:text-neutral-400 hover:dark:bg-white/5"
        >
          <span>More</span>
          <CaretRight className="size-4" />
        </Link>
      </div>
      <div className="inline-flex h-12 items-center self-end gap-2 pr-2">
        <div className="size-3 rounded-full bg-green-400"></div>
        <div className="size-3 rounded-full bg-amber-400"></div>
        <div className="size-3 rounded-full bg-red-400"></div>
      </div>
    </RichTabs.List>
    <div className="pt-2 rounded-lg bg-[#FFF4] dark:bg-[#FFFFFF03] border border-neutral-200 dark:border-neutral-800 backdrop-blur-sm [&_div]:border-0 [&_div]:shadow-none [&>div>div>div>pre]:!bg-transparent [&>div>div>div>pre]:!p-4">
      {Object.entries({
        nextjs: `\
// auth.ts
import NextAuth from "next-auth"
import GitHub from "next-auth/providers/github"
export const { auth, handlers } = NextAuth({ providers: [GitHub] })

// middleware.ts
export { auth as middleware } from "@auth"

// app/api/auth/[...nextauth]/route.ts
import { handlers } from "@auth"
export const { GET, POST } = handlers
`,
        sveltekit: `\
// src/auth.ts
import { SvelteKitAuth } from "@auth/sveltekit"
import GitHub from '@auth/sveltekit/providers/github'

export const { handle } = SvelteKitAuth({
  providers: [GitHub],
})

// src/hooks.server.ts
export { handle } from "./auth"
`,
        express: `\
// server.ts
import { express } from "express"
import { ExpressAuth } from "@auth/express"
import GitHub from "@auth/express/providers/github"

const app = express()

app.use("/auth/\*", ExpressAuth({ providers: [GitHub] }))
`,
        qwik: `\
// src/routes/plugin@auth.ts
import { QwikAuth } from "@auth/qwik"
import GitHub from "@auth/qwik/providers/github"
export const { onRequest, useSession } = QwikAuth$(() => ({ providers: [GitHub] }))
`,
}).map(([key, code]) => (

<RichTabs.Content
key={key}
orientation="vertical"
value={key}
className="h-full"
tabIndex={-1} >
<Pre data-language="tsx" data-copy="">
<Code data-language="tsx">{code}</Code>
</Pre>
</RichTabs.Content>
))}
</div>

  </RichTabs>
</div>
</section>

  <section className="w-full bg-white dark:bg-neutral-950 py-16 sm:py-24">
  <div className="max-w-7xl mx-auto px-8">
    <div className="flex flex-col items-center gap-12">
      <h2 className="text-3xl font-bold text-center text-neutral-800 dark:text-neutral-200 tracking-tight">
        Trusted by the best in the game
      </h2>
      <div className="w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
        <TestimonialCard icon={ChatGPTIcon} title="ChatGPT" iconClassName="h-10">
          The category-defining generative AI platform from OpenAI, enabling developers to build intelligent applications.
        </TestimonialCard>
        
        <TestimonialCard icon={CalIcon} title="Cal.com" iconClassName="h-6 mt-2">
          Open-source scheduling infrastructure for everyone, from individuals to enterprise scale.
        </TestimonialCard>

        <TestimonialCard icon={VercelIcon} title="Vercel" iconClassName="h-10">
          The platform for frontend developers, providing the speed and reliability innovators need to create at the moment of inspiration.
        </TestimonialCard>

        <TestimonialCard icon={DubIcon} title="Dub.co" iconClassName="h-10 w-10">
          An open-source link management tool for modern marketing teams to create, share, and track short links.
        </TestimonialCard>

        <TestimonialCard icon={T3Icon} title="The T3 Stack" iconClassName="h-8">
          An opinionated, modular stack focused on simplicity, and type safety, recommending Auth.js as its primary auth solution.
        </TestimonialCard>

        <TestimonialCard icon={ArtlistIcon} title="Artlist" iconClassName="h-6">
          A creative powerhouse providing creators with royalty-free music, SFX, stock footage, and video editing software.
        </TestimonialCard>
      </div>
    </div>

  </div>
</section>

<section className="w-full bg-white dark:bg-neutral-950 py-16 sm:py-24 relative overflow-hidden">
  {/* Background Glow Effect */}
  <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[30rem] h-[30rem] bg-violet-500/10 dark:bg-violet-900/20 rounded-full blur-[256px] -z-0 opacity-50" />

  <div className="max-w-7xl mx-auto px-8 relative z-10">
    <div className="flex flex-col items-center gap-16">
      <div className="flex flex-col items-center gap-4 max-w-2xl">
        <h2 className="text-3xl font-bold text-center text-neutral-800 dark:text-neutral-200 tracking-tight">
          Everything you need, nothing you don’t
        </h2>
        <div className="text-lg text-center text-neutral-600 dark:text-neutral-400">
          Auth.js is a complete, open-source authentication solution, designed to be flexible and secure, giving you full control over your user data.
        </div>
      </div>
      
      {/* Pillar Container */}
      <div className="w-full grid grid-cols-1 lg:grid-cols-2 gap-8">

        {/* Pillar 1 & 2 Container */}
        <div className="flex flex-col gap-8">
          {/* Pillar 1: Use Any Framework */}
          <div className="flex flex-col gap-4 p-8 bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-lg h-full">
            <div className="flex justify-start text-black dark:text-white">
              <svg className="h-8 w-8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5-10-5-10 5z" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
            </div>
            <h3 className="text-2xl font-bold text-neutral-900 dark:text-white">Use Any Framework</h3>
            <div className="text-lg text-neutral-600 dark:text-neutral-400">
              Built for the edge with first-class support for Next.js, SvelteKit, SolidStart, and more.
            </div>
          </div>

          {/* Pillar 2: Own Your Data */}
          <div className="flex flex-col gap-4 p-8 bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-lg h-full">
            <div className="flex justify-start text-black dark:text-white">
              <svg className="h-8 w-8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 7v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V7M4 7c0-1.1.9-2 2-2h12c1.1 0 2 .9 2 2M4 7l8 5 8-5" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
            </div>
            <h3 className="text-2xl font-bold text-neutral-900 dark:text-white">Own Your Data</h3>
            <div className="text-lg text-neutral-600 dark:text-neutral-400">
              Connect to your own database with our adapter system. Never get locked into a vendor's user table again.
            </div>
          </div>
        </div>

        {/* Pillar 3: Fully Extensible with Code Example */}
        <div className="flex flex-col gap-4 p-8 bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-lg">
            <div className="flex justify-start text-black dark:text-white">
              <svg className="h-8 w-8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 3H5a2 2 0 00-2 2v5m7-7h5a2 2 0 012 2v5m-7 11h5a2 2 0 002-2v-5m-7 7H5a2 2 0 01-2-2v-5" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
            </div>
            <h3 className="text-2xl font-bold text-neutral-900 dark:text-white">Fully Extensible</h3>
            <div className="text-lg text-neutral-600 dark:text-neutral-400 mb-4">
              Choose from 50+ pre-configured providers or add your own. Customize everything from UI to session handling with callbacks.
            </div>
            <div className="px-4 bg-[#FFF4] dark:bg-[#FFFFFF03] border border-neutral-200 dark:border-neutral-800 rounded-lg font-mono text-sm mt-auto">

<Code className="!bg-transparent !border-transparent [&>pre]:whitespace-pre-wrap">
```ts
import NextAuth from "next-auth"

export const { handlers, signIn, signOut, auth } = NextAuth({
  providers: [],
})
```
</Code>

</div>

</div>

      </div>
    </div>

  </div>
</section>

{" "}

<section className="relative flex py-12 flex-col items-center justify-center overflow-hidden">
  <div className="z-10 flex flex-col items-center justify-center gap-4 px-8 text-center">
    <h2 className="text-3xl font-bold tracking-tight text-neutral-800 dark:text-neutral-200">
      Sign in with _\* anything \*_
    </h2>
    <div className="max-w-2xl text-lg text-neutral-600 dark:text-neutral-400">
      With over 100 popular providers, you can let your users sign in with the
      services they already use and trust.
    </div>
  </div>

  <ProvidersMarquee />
</section>

  <section className="w-full bg-white dark:bg-black py-16 sm:py-24 relative overflow-hidden">
  {/* Background Glow Effect */}
  <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[50rem] h-[30rem] bg-violet-500/10 dark:bg-violet-900/30 rounded-full blur-3xl -z-0" />
  
  <div className="max-w-7xl mx-auto px-8 relative z-10">
    <div className="flex flex-col items-center gap-16">
      <div className="flex flex-col items-center gap-4 max-w-2xl text-center">
        <h2 className="text-3xl font-bold text-neutral-800 dark:text-neutral-200 tracking-tight">
          Built by developers, for developers
        </h2>
        <div className="text-lg text-neutral-600 dark:text-neutral-400">
          Auth.js is a community-driven project, backed by a transparent, open-source philosophy. Your data is yours, and the code is open to everyone.
        </div>
      </div>

      {/* Stats Grid */}
      <div className="w-full grid grid-cols-1 md:grid-cols-3 gap-8">
        {/* GitHub Stars Card */}
        <div className="flex flex-col items-center text-center gap-4 p-8 bg-neutral-100 dark:bg-neutral-900/50 border border-neutral-200 dark:border-neutral-800 rounded-lg transition-transform duration-300 hover:scale-105 hover:border-violet-700">
          <h3 className="text-5xl font-bold text-violet-600 dark:text-violet-400">30k+</h3>
          <div className="text-xl font-semibold text-neutral-900 dark:text-white">GitHub Stars</div>
          <div className="text-neutral-600 dark:text-neutral-400">
            A testament to the community's trust and love for the project.
          </div>
        </div>

        {/* NPM Downloads Card */}
        <div className="flex flex-col items-center text-center gap-4 p-8 bg-neutral-100 dark:bg-neutral-900/50 border border-neutral-200 dark:border-neutral-800 rounded-lg transition-transform duration-300 hover:scale-105 hover:border-violet-700">
          <h3 className="text-5xl font-bold text-violet-600 dark:text-violet-400">5M+</h3>
          <div className="text-xl font-semibold text-neutral-900 dark:text-white">NPM Downloads</div>
          <div className="text-neutral-600 dark:text-neutral-400">
            Powering millions of applications every month, from side projects to enterprise.
          </div>
        </div>

        {/* Contributors Card */}
        <div className="flex flex-col items-center text-center gap-4 p-8 bg-neutral-100 dark:bg-neutral-900/50 border border-neutral-200 dark:border-neutral-800 rounded-lg transition-transform duration-300 hover:scale-105 hover:border-violet-700">
          <h3 className="text-5xl font-bold text-violet-600 dark:text-violet-400">700+</h3>
          <div className="text-xl font-semibold text-neutral-900 dark:text-white">Contributors</div>
          <div className="text-neutral-600 dark:text-neutral-400">
            A massive thank you to everyone who has contributed to the project.
          </div>
        </div>
      </div>

      {/* CTA Buttons */}
      <div className="flex flex-col sm:flex-row gap-4">
        <a
          href="https://discord.authjs.dev/?utm_source=docs"
          target="_blank"
          className="p-4 px-6 text-center bg-violet-600 dark:bg-violet-800 text-white hover:dark:bg-violet-900 transition hover:bg-violet-700 duration-300 rounded-lg font-semibold flex items-center gap-2"
        >
          Join the Discord
        </a>
        <a
          href="https://github.com/nextauthjs/next-auth"
          target="_blank"
          className="p-4 px-6 text-center dark:bg-gray-300 bg-violet-200 text-black transition duration-300 hover:dark:bg-gray-400 hover:bg-violet-300 rounded-lg font-semibold flex items-center gap-2"
        >
          <svg className="h-5 w-5 text-black" fill="currentColor" viewBox="0 0 20 20">
            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.966a1 1 0 00.95.69h4.175c.969 0 1.371 1.24.588 1.81l-3.38 2.455a1 1 0 00-.364 1.118l1.287 3.966c.3.921-.755 1.688-1.54 1.118l-3.38-2.455a1 1 0 00-1.175 0l-3.38 2.455c-.784.57-1.838-.197-1.539-1.118l1.287-3.966a1 1 0 00-.364-1.118L2.049 9.393c-.783-.57-.38-1.81.588-1.81h4.175a1 1 0 00.95-.69l1.286-3.966z"/>
          </svg>
          Star on GitHub
        </a>
      </div>
    </div>

  </div>
</section>

<section className="w-full bg-white py-16 sm:py-24 dark:bg-black">
  <div className="mx-auto max-w-7xl px-4 sm:px-8">
    <div className="relative isolate overflow-hidden rounded-2xl bg-violet-800/80 px-6 py-16 text-center shadow-2xl sm:rounded-3xl sm:px-16 sm:py-24">
      <h2 className="mx-auto max-w-2xl text-2xl font-bold tracking-tight text-white sm:text-4xl">
        Ready to secure your app?
      </h2>
      <div className="mx-auto mt-6 max-w-xl text-lg leading-8 text-violet-200">
        Get started in minutes with our quickstart guide or dive into the
        documentation to see everything Auth.js has to offer.
      </div>
      <div className="mt-10 flex flex-col items-center justify-center gap-x-6 gap-y-6 sm:flex-row">
        <a
          href="/getting-started"
          className="w-full rounded-md bg-white px-5 py-3.5 text-base font-semibold text-violet-800 shadow-sm transition-colors duration-300 hover:bg-violet-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white sm:w-auto"
        >
          Get started
        </a>
        <a
          href="/getting-started/integrations"
          className="text-base font-semibold leading-6 text-white"
        >
          See all integrations <span aria-hidden="true">→</span>
        </a>
      </div>
      <svg
        viewBox="0 0 1024 1024"
        className="absolute left-1/2 top-1/2 -z-10 h-[64rem] w-[64rem] -translate-x-1/2 [mask-image:radial-gradient(closest-side,white,transparent)]"
        aria-hidden="true"
      >
        <circle
          cx={512}
          cy={512}
          r={512}
          fill="url(#8d958450-c69f-4251-94bc-4e091a323369)"
          fillOpacity="0.7"
        />
        <defs>
          <radialGradient id="8d958450-c69f-4251-94bc-4e091a323369">
            <stop stopColor="#7775D6" />
            <stop offset={1} stopColor="#E935C1" />
          </radialGradient>
        </defs>
      </svg>
    </div>
  </div>
</section>

<footer className="w-full bg-white dark:bg-black border-t border-neutral-200 dark:border-neutral-800">
  <div className="max-w-7xl mx-auto px-8 pt-16 pb-8">
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      {/* Column 1: About */}
      <div className="flex flex-col gap-4">
        <h3 className="text-lg font-semibold text-neutral-900 dark:text-white">About Auth.js</h3>
        <a href="/getting-started" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">Introduction</a>
        <a href="/security" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">Security</a>
        <a href="/getting-started/migrating-to-v5" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">Migrating to v5</a>
      </div>

      {/* Column 2: Documentation */}
      <div className="flex flex-col gap-4">
        <h3 className="text-lg font-semibold text-neutral-900 dark:text-white">Documentation</h3>
        <a href="/getting-started" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">Get Started</a>
        <a href="/getting-started/providers/42-school" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">Providers</a>
        <a href="/getting-started/adapters/azure-tables" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">Adapters</a>
      </div>

      {/* Column 3: Community */}
      <div className="flex flex-col gap-4">
        <h3 className="text-lg font-semibold text-neutral-900 dark:text-white">Community</h3>
        <a href="https://github.com/nextauthjs/next-auth" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">GitHub</a>
        <a href="https://discord.authjs.dev/?utm_source=docs" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">Discord</a>
        <a href="https://www.npmjs.com/package/next-auth" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">NPM</a>
      </div>

      {/* Column 4: Acknowledgements */}
      <div className="flex flex-col gap-4">
        <h3 className="text-lg font-semibold text-neutral-900 dark:text-white">Acknowledgements</h3>
        <a href="https://clerk.com" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">Clerk (Sponsor)</a>
        <a href="https://authjs.dev/contributors" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">Contributors</a>
        <a href="https://authjs.dev/sponsors" className="text-neutral-600 dark:text-neutral-400 hover:text-violet-500 dark:hover:text-violet-400 transition-colors">Sponsors</a>
      </div>
    </div>
    <div className="mt-16 pt-8 border-t border-neutral-200 dark:border-neutral-800 text-center text-neutral-500 dark:text-neutral-500">
      <p>&copy; {new Date().getFullYear()} Auth.js Team. Balázs Orbán and Team. All rights reserved.</p>
    </div>

  </div>
</footer>
  <div className="overflow-hidden bg-animation -z-10">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>
    <div id="stars4"></div>
  </div>
  <div
    className="fixed inset-0 w-full h-full pointer-events-none bg-[radial-gradient(circle,#FFFFFF00_0%,#FFFFFF_50%)] dark:bg-[radial-gradient(circle,#11111100_0%,#111111_50%)] -z-10"
  />
</div>
